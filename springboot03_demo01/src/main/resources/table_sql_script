CREATE TABLE "user"
(
    ID          INT UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    USERNAME    VARCHAR(20)                             NOT NULL,
    PASSWORD    VARCHAR(32)                             NOT NULL,
    NICKNAME    VARCHAR(10)   DEFAULT ''                NULL,
    EMAIL       VARCHAR(128)  DEFAULT ''                NULL,
    USER_PIC    VARCHAR(2000) DEFAULT ''                NULL,
    CREATE_TIME DATETIME      DEFAULT CURRENT_TIMESTAMP NULL,
    UPDATE_TIME DATETIME      DEFAULT CURRENT_TIMESTAMP NULL ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE "category"
(
    ID             INT UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    CATEGORY_NAME  VARCHAR(32)                        NOT NULL,
    CATEGORY_ALIAS VARCHAR(32)                        NULL,
    CREATE_USER    INT UNSIGNED                       NULL,
    CREATE_TIME    DATETIME DEFAULT CURRENT_TIMESTAMP NULL,
    UPDATE_TIME    DATETIME DEFAULT CURRENT_TIMESTAMP NULL ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE ARTICLE
(
    ID          INT UNSIGNED AUTO_INCREMENT
        PRIMARY KEY,
    TITLE       VARCHAR(30)                           NOT NULL,
    CONTENT     VARCHAR(10000)                        NULL,
    COVER_IMG   VARCHAR(128)                          NULL,
    STATE       VARCHAR(10) DEFAULT 'Draft'           NULL,
    CATEGORY_ID INT UNSIGNED                          NULL,
    CREATE_USER INT UNSIGNED                          NULL,
    CREATE_TIME DATETIME    DEFAULT CURRENT_TIMESTAMP NULL,
    UPDATE_TIME DATETIME    DEFAULT CURRENT_TIMESTAMP NULL ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT ARTICLE_IBFK_1
        FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY (ID),
    CONSTRAINT ARTICLE_IBFK_2
        FOREIGN KEY (CREATE_USER) REFERENCES USER (ID)
);

CREATE INDEX CATEGORY_ID
    ON ARTICLE (CATEGORY_ID);

CREATE INDEX CREATE_USER
    ON ARTICLE (CREATE_USER);